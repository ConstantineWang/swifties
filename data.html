<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Swifties</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
    
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    AOS.init();
    </script>
    <div id="magnify">
        <h1 onclick="closemagnify()"><i class="fas fa-times"></i></h1>
        <div id="img_here"></div>
    </div>
    <header id="header" class="animated slideInDown about-header" style="animation-delay:0s; color:white;">
        <table>
            <tr>
                <td id="logo">Swifties.</td>
                <td id="navigation">
                    <a href="index.html">Home</a>
                    <a href="narrative.html">Narrative</a>
                    <a href="data.html">Data</a>
                    <a href="timeline.html">Timeline</a>
                    <a href="references.html">References</a>
                    <a href="about.html">About</a>
                </td>
            </tr>
        </table>
    </header>
    
    <section id="narrative">
        <div id="video" class="video-container">
            <video width="100%" height="300" autoplay muted loop>
                <source src="Digital presentation of data - dark background _ royalty free videos _ free stock videos 4k.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
              <div class="video-title">
            </div>
        </div>

        <div id="bio">
            <h1 id="critique" style="width:200px">Data Critique</h1>
            <p data-aos="fade-up">
                The Swifties(group name) will include an analysis on each of Taylor’s albums from the perspective of valence, energetic, popularity, streams, and its audio features in the project which means we will include the name for each album and their corresponding regression line/histogram from different perspectives. Our original sources are from Spotify. We will use the data extracted from Spotify API to create better visualizations and superior comprehension of data through R and Tableau.
            </p data-aos="fade-up">
            <p class="sub" data-aos="fade-up">
                album_name: The name of the album.
            </p>
            <p data-aos="fade-up">
                album_id: The identifier for the album name Spotify uses.

            </p>
            <p class="sub" data-aos="fade-up">
                track_name: The name of the trach in the album.

            </p>
            <p class="sub" data-aos="fade-up">
                track_id: The identifier for the track name Spotify uses.

            </p>
            <p class="sub" data-aos="fade-up">
                album_release_date: The release date of the album in yyyy-mm–dd.
            </p>
            <p class="sub" data-aos="fade-up">
                album_release_year: The release year of the album.
            </p>
            <p class="sub" data-aos="fade-up">
                genre: The genre of the song.
            </p>
            <p class="sub" data-aos="fade-up">
                All other features’ descriptions available on: <a>https://developer.spotify.com/documentation/web-api/reference/get-audio-features </a>             </p>
            </div>
        <div class="parallax-image" style="background-image: url('https://t4.ftcdn.net/jpg/02/07/15/43/360_F_207154340_wLIJus4m3SBl5sAQmpqN3Um7REnUhskU.jpg'); margin-bottom:20px; margin-top:20px; height: auto!important"> 
            <div id="bio" class="white" style="color:white!important">
                <p data-aos="fade-up">These datasets can only reveal which Taylor Swift songs or album styles are more favored by the audience. These datasets will provide Taylor Swift and her company with superior inspiration on what types or melodies should Taylor Swift produce. However, the dataset we used did not reveal whether Taylor Swift was a genius on marketing/entrepreneurship in her music industry and how her music has caused a cultural impact. </p>
                <p data-aos="fade-up" class="sub">The ideological effects of a dataset’s ontology (the categorization and labeling of sources of data) explains how a dataset is grouped can impact the representation of different phenomena. It shows how the choices of presenting and grouping datasets can shape the interpretation of a subject. </p>
                <p data-aos="fade-up" class="sub">The data’s ontology can be influenced by several factors including selection bias and the influence of Spotify’s algorithm. </p>
                <p data-aos="fade-up" class="sub">The dataset may demonstrate selection bias, meaning that the streaming data is a reflection of a certain demographic, geography or member/user preferences. This usually results in a skewed conclusion of a dataset analysis. Furthermore, the algorithm of Spotify may influence the data (users’ consumption patterns) as streaming services may loop users back into certain songs, artists, and genres, ultimately increasing Taylor Swift’s popularity on the platform. Hence, the Spotify algorithm may influence a user’s consumption patterns and impact the amount of streams a song/artist receives. </p>
                <p data-aos="fade-up">The data is primarily focused on measuring audience preference for different songs and styles, aimed at Gen Z, rather than looking at Taylor Swift’s broader impact on the music industry. This suggests an ideological focus on consumer tastes and market forces, as opposed to the artist’s role as a cultural influencer, entrepreneur, or innovator. The way our sources are divided into data, and the resulting data that’s focused on, can carry inherent that reflect specific biological perspectives. It’s crucial to approach such data with an understanding of these potential biases and to consider a more holistic perspective when evaluating an artist’s impact and success.</p>
                <p data-aos="fade-up">While our datasets from Spotify and YouTube offer valuable insights into Taylor Swift's music in terms of audience preferences, popularity, and certain musical attributes, they do not fully reflect her extensive influence and dynamism as a pop culture force. The organization and classification of the data (the dataset's ontology) inherently focuses on consumption-based metrics, leaving out her significant impacts in areas such as cultural influence, marketing, and entrepreneurship. This reflects an ideological bias towards consumer-driven perspectives and underscores the importance of recognizing such limitations in data analysis. To achieve a more holistic understanding of Taylor Swift's artistry and influence, it is imperative to incorporate diverse data sources that consider her multifaceted role in the music industry and popular culture, beyond simply the metrics of song streams or album popularity.
                </p>
            </div>
        </div>

        
    </section>


    <div id="bio">
        

        <h1 style="width:530px" id="code">Dataset Acquisition via R Code</h2>
            <p class="quote">To get a dataset of Taylor Swift's albums, we took advantage of the Spotify API. Using the spotifyr library in R, we were able to call the Spotify API in R.</p>
    
            <div id="editor" style="height: 500px; width: 100%; font-size: 15px; position: relative!important;">
    id <- '######'
    secret <- '######'
    
    
    Sys.setenv(SPOTIFY_CLIENT_ID = id)
    Sys.setenv(SPOTIFY_CLIENT_SECRET = secret)
    
    access_token <- get_spotify_access_token()
    
    taylor_id <- "06HL4z0CvFAxyc27GXpf02"
    
    # Discography
    taylorswift <- get_artist_audio_features(
        artist = taylor_id,
        include_groups = c("album", "single"))
    
    taylorswift <- taylorswift %>%
        select(album_id, album_release_date, album_release_year, 
                danceability, energy, key, loudness, mode, speechiness, acousticness,
                instrumentalness, liveness, valence, tempo, track_id,
                time_signature, duration_ms, explicit, track_name,
                album_name, key_name, mode_name, key_mode)
    
    n <- nrow(taylorswift)
    popularity <- integer(n)
    
    for(i in 1:n) {
        track_id <- taylorswift$track_id[i]
        song_popularity <- get_track(track_id)
        popularity[i] <- song_popularity$popularity
    }
    
    taylorswift <- cbind(taylorswift, popularity)
    # Rearrange the columns
    taylorswift <- select(taylorswift, album_name, album_id, track_name, track_id, album_release_date, 
                            album_release_year, popularity, danceability, energy, key, loudness, mode, speechiness, 
                            acousticness, instrumentalness, liveness, valence, tempo, time_signature, 
                            duration_ms, explicit, key_name, mode_name, key_mode)
    
    country_album <- c("Fearless", "Red", "Speak Now")
    
    country_indices <- c(
        which(grepl("Fearless", taylorswift$album_name, ignore.case = TRUE, fixed = FALSE)),
        which(grepl("Red", taylorswift$album_name, ignore.case = TRUE, fixed = FALSE)),
        which(grepl("Speak Now", taylorswift$album_name, ignore.case = TRUE, fixed = FALSE))
    )
    
    country_indices <- country_indices[-114]
    country_albums <- unique(taylorswift$album_name[country_indices])
    print(country_albums)
    
    indices <- which(taylorswift$album_name %in% country_albums)
    
    genre <- character(n)
    genre[1:n] <- "Pop"
    genre[indices] <- "Country"
    
    taylorswift <- cbind(taylorswift, genre)
    
    taylorswift <- taylorswift %>%
        arrange(album_release_date)
    
            
              </div>
        </div>
    



    <ul class="scroll-spy">
        <li><a href="#critique">Data Critique</a></li>
        <li><a href="#code">code</a></li>
    </ul>
    <div id="contact">
        <h1>contact</h1>
            <table>
                <tr>
                    <td>
                        <form>
                            <input type="text" placeholder="name" required>
                            <input type="email" placeholder="email" required><br>
                            <textarea placeholder="your message" required rows="5"></textarea><br>
                            <button class="btn_one">send</button>
                        </form> 
                    </td>
                </tr>
            </table>
    </div>
    <div id="footer" class="animated slideInUp" style="animation-delay:0s; background-color: white; color: black;">
        made on earth by <br> <a href="https://constantinewang.github.io">Constantine Wang</a>
    </div>

    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        editor.session.setMode("ace/mode/r");
      </script>
    <script src="index.js" type="text/javascript"></script>
    <script src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>

    <script>
        $(window).scroll(function() {
            var scroll = $(window).scrollTop(),
                slowScroll = scroll/1.5,
                slowBg = '50% ' + -(slowScroll) + 'px';
    
            $('.parallax-image').css({
                backgroundPosition: slowBg,
                //make the image at center
            });
        });
    
        // Scroll spy
        $(window).on('scroll', function() {
            var threshold = 200;  // adjust this value to your needs
            $('.scroll-spy a').each(function() {
                var chapter = $(this).attr('href');
                if ($(chapter).offset().top - threshold <= $(window).scrollTop()) {
                    $('.scroll-spy a').removeClass('active');
                    $(this).addClass('active');
                }
            });
        });
    
        // $(document).ready(function(){
        //     var vizUrl = "https://public.tableau.com/views/Shanghaiupdated/Sheet2?:embed=y&:showVizHome=no&:host_url=https%3A%2F%2Fpublic.tableau.com%2F&:embed_code_version=3&:tabs=no&:toolbar=yes&:animate_transition=yes&:display_static_image=no&:display_spinner=no&:display_overlay=yes&:display_count=yes&:language=en&:loadOrderID=0";
        //     var vizOptions = {
        //         hideTabs: true,
        //         width: "300px",
        //         height: "300px"
        //     };
        //     var vizContainer1 = document.getElementById('vizContainer1');
        //     var viz = new tableau.Viz(vizContainer1, vizUrl, vizOptions);

        // });
    </script>
    
</body>
</html>
